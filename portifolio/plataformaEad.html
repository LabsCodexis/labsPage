<!doctype html>
<html lang="pt-BR" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AcademyCodexi - Plataforma EAD</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/_sdk/element_sdk.js"></script>
    <script src="/_sdk/data_sdk.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&amp;family=Sora:wght@300;400;500;600;700;800&amp;display=swap" rel="stylesheet">
    <style>
        body { box-sizing: border-box; }

        * {
            font-family: 'Sora', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        .font-mono {
            font-family: 'Space Mono', 'Courier New', monospace;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 0, 0, 0.3); }
            50% { box-shadow: 0 0 40px rgba(0, 0, 0, 0.6); }
        }

        @keyframes scanline {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }

        .animate-fade-up {
            animation: fadeInUp 0.6s ease-out forwards;
        }

        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }

        .animate-slide-in {
            animation: slideIn 0.5s ease-out forwards;
        }

        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        .animate-spin {
            animation: spin 1s linear infinite;
        }

        .animate-bounce {
            animation: bounce 2s ease-in-out infinite;
        }

        .animate-glow {
            animation: glow 2s ease-in-out infinite;
        }

        .gradient-dark {
            background: linear-gradient(135deg, #000000 0%, #1a1a1a 50%, #2d2d2d 100%);
        }

        .gradient-gray {
            background: linear-gradient(135deg, #404040 0%, #262626 100%);
        }

        .gradient-light {
            background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%);
        }

        .gradient-hero {
            background: linear-gradient(135deg, #000000 0%, #1a1a1a 30%, #000000 60%, #0a0a0a 100%);
        }

        .tech-grid {
            background-image:
                    linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                    linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
        }

        .scanline {
            position: relative;
            overflow: hidden;
        }

        .scanline::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: scanline 3s linear infinite;
            pointer-events: none;
        }

        .course-card {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            border: 1px solid #2d2d2d;
        }

        .course-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
            border-color: #404040;
        }

        .course-card:hover .course-image {
            transform: scale(1.05);
            filter: grayscale(0%) brightness(1.1);
        }

        .course-image {
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            object-fit: cover;
            filter: grayscale(20%) brightness(0.9);
        }

        .lesson-item {
            transition: all 0.3s ease;
            cursor: pointer;
            border-left: 3px solid transparent;
        }

        .lesson-item:hover {
            background: #0a0a0a;
            transform: translateX(8px);
            border-left-color: #ffffff;
        }

        .progress-bar {
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .badge-achievement {
            transition: all 0.3s ease;
        }

        .badge-achievement:hover {
            transform: scale(1.1) rotate(5deg);
        }

        .video-player {
            aspect-ratio: 16 / 9;
            background: linear-gradient(135deg, #0a0a0a 0%, #000000 100%);
        }

        .glass-effect {
            background: rgba(26, 26, 26, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .shimmer-loading {
            background: linear-gradient(90deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%);
            background-size: 1000px 100%;
            animation: shimmer 2s infinite;
        }

        .trophy-bounce {
            animation: bounce 1s ease-in-out;
        }

        .stat-card {
            position: relative;
            overflow: hidden;
            border: 1px solid #2d2d2d;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.05) 0%, transparent 70%);
            border-radius: 50%;
            transform: translate(30%, -30%);
        }

        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #0a0a0a;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #404040, #262626);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #525252, #404040);
        }

        .filter-tag {
            transition: all 0.3s ease;
            border: 2px solid #2d2d2d;
        }

        .filter-tag:hover {
            transform: translateY(-2px);
            border-color: #404040;
        }

        .filter-tag.active {
            background: #ffffff;
            color: #000000;
            border-color: #ffffff;
        }

        .btn-primary {
            background: #ffffff;
            color: #000000;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background: #e0e0e0;
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.3);
        }

        .btn-secondary {
            background: #000000;
            color: #ffffff;
            border: 2px solid #ffffff;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: #ffffff;
            color: #000000;
        }

        .text-gradient {
            background: linear-gradient(135deg, #ffffff 0%, #a0a0a0 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .border-gradient {
            border-image: linear-gradient(135deg, #ffffff 0%, #404040 100%) 1;
        }

        .logo-glow {
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.5));
        }

        .code-accent {
            font-family: 'Space Mono', monospace;
            color: #ffffff;
            background: #000000;
            padding: 2px 8px;
            border-radius: 4px;
            border: 1px solid #404040;
        }
    </style>
    <style>@view-transition { navigation: auto; }</style>
</head>
<body class="h-full overflow-auto bg-black">
<div id="app" class="w-full h-full min-h-full flex flex-col"><!-- Navigation -->
    <nav class="bg-black border-b border-gray-800 sticky top-0 z-50 backdrop-blur-md bg-opacity-95">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-white flex items-center justify-center logo-glow">
                        <svg class="w-6 h-6 text-black" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                        </svg>
                    </div>
                    <div>
                        <h1 id="platform-name" class="text-lg font-bold text-white font-mono">AcademyCodexi</h1>
                        <p id="platform-tagline" class="text-xs text-gray-400">Código. Conhecimento. Conquista.</p>
                    </div>
                </div>
                <div class="flex items-center gap-6"><button onclick="showDashboard()" class="hidden md:flex items-center gap-2 text-sm font-semibold text-gray-300 hover:text-white transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                    </svg> Dashboard </button>
                    <div class="flex items-center gap-3 px-4 py-2 bg-white rounded-lg">
                        <svg class="w-5 h-5 text-black" fill="currentColor" viewbox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                        </svg><span id="user-points" class="text-sm font-bold text-black font-mono">0 XP</span>
                    </div>
                </div>
            </div>
        </div>
    </nav><!-- Main Content -->
    <main class="flex-1"><!-- Dashboard View -->
        <section id="dashboard-view"><!-- Hero Section -->
            <div class="gradient-hero text-white mb-12 relative overflow-hidden tech-grid scanline">
                <div class="absolute inset-0 bg-gradient-to-b from-transparent via-black/20 to-black/40"></div>
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 relative z-10">
                    <div class="animate-fade-up">
                        <div class="inline-block px-4 py-2 bg-white/10 backdrop-blur-sm rounded-lg border border-white/20 mb-6"><span class="text-sm font-mono text-white">// WELCOME TO THE FUTURE OF LEARNING</span>
                        </div>
                        <h2 id="hero-title" class="text-7xl font-bold mb-4 text-gradient font-mono">Domine a Arte do Código</h2>
                        <p id="hero-subtitle" class="text-2xl text-gray-300 mb-10 max-w-2xl">Aprenda com experts da indústria. Código real. Projetos reais. Carreira real.</p>
                        <div class="flex flex-wrap items-center gap-6"><button onclick="scrollToCourses()" class="btn-primary px-10 py-5 font-bold rounded-lg text-lg font-mono"> <span id="cta-button">Começar Jornada</span> </button>
                            <div class="flex items-center gap-8 text-gray-300 font-mono">
                                <div>
                                    <p class="text-4xl font-bold text-white">12</p>
                                    <p class="text-sm">Cursos</p>
                                </div>
                                <div class="h-12 w-px bg-gray-700"></div>
                                <div>
                                    <p class="text-4xl font-bold text-white">15k+</p>
                                    <p class="text-sm">Alunos</p>
                                </div>
                                <div class="h-12 w-px bg-gray-700"></div>
                                <div>
                                    <p class="text-4xl font-bold text-white">96%</p>
                                    <p class="text-sm">Satisfação</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div><!-- Stats Overview -->
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-12 -mt-20 relative z-20">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                    <div class="stat-card bg-gray-900 rounded-xl shadow-2xl p-6 animate-fade-up" style="animation-delay: 0.1s">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-sm font-bold text-gray-300 font-mono">PROGRESSO GERAL</h3>
                            <div class="w-12 h-12 rounded-lg bg-white flex items-center justify-center">
                                <svg class="w-6 h-6 text-black" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                                </svg>
                            </div>
                        </div>
                        <p id="overall-progress" class="text-4xl font-bold text-white mb-2 font-mono">0%</p>
                        <div class="w-full h-2 bg-gray-800 rounded-full overflow-hidden">
                            <div id="overall-progress-bar" class="progress-bar h-full bg-white" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="stat-card bg-gray-900 rounded-xl shadow-2xl p-6 animate-fade-up" style="animation-delay: 0.2s">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-sm font-bold text-gray-300 font-mono">AULAS CONCLUÍDAS</h3>
                            <div class="w-12 h-12 rounded-lg bg-white flex items-center justify-center">
                                <svg class="w-6 h-6 text-black" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                            </div>
                        </div>
                        <p id="completed-lessons" class="text-4xl font-bold text-white mb-1 font-mono">0</p>
                        <p class="text-sm text-gray-500">de <span id="total-lessons">96</span> aulas</p>
                    </div>
                    <div class="stat-card bg-gray-900 rounded-xl shadow-2xl p-6 animate-fade-up" style="animation-delay: 0.3s">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-sm font-bold text-gray-300 font-mono">CERTIFICADOS</h3>
                            <div class="w-12 h-12 rounded-lg bg-white flex items-center justify-center">
                                <svg class="w-6 h-6 text-black" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                                </svg>
                            </div>
                        </div>
                        <p id="certificates-earned" class="text-4xl font-bold text-white mb-1 font-mono">0</p>
                        <p class="text-sm text-gray-500">conquistados</p>
                    </div>
                    <div class="stat-card bg-gray-900 rounded-xl shadow-2xl p-6 animate-fade-up" style="animation-delay: 0.4s">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-sm font-bold text-gray-300 font-mono">TEMPO DE ESTUDO</h3>
                            <div class="w-12 h-12 rounded-lg bg-white flex items-center justify-center">
                                <svg class="w-6 h-6 text-black" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </div>
                        </div>
                        <p id="study-time" class="text-4xl font-bold text-white mb-1 font-mono">0h</p>
                        <p class="text-sm text-gray-500">neste mês</p>
                    </div>
                </div>
            </div><!-- Filters -->
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8">
                <div class="flex flex-wrap items-center gap-3"><span class="text-sm font-semibold text-gray-400 font-mono">FILTRAR_POR:</span> <button onclick="filterCourses('all')" class="filter-tag active px-5 py-2 bg-gray-900 rounded-lg text-sm font-semibold text-gray-300 font-mono" data-filter="all"> TODOS </button> <button onclick="filterCourses('Básico')" class="filter-tag px-5 py-2 bg-gray-900 rounded-lg text-sm font-semibold text-gray-300 font-mono" data-filter="Básico"> BÁSICO </button> <button onclick="filterCourses('Intermediário')" class="filter-tag px-5 py-2 bg-gray-900 rounded-lg text-sm font-semibold text-gray-300 font-mono" data-filter="Intermediário"> INTERMEDIÁRIO </button> <button onclick="filterCourses('Avançado')" class="filter-tag px-5 py-2 bg-gray-900 rounded-lg text-sm font-semibold text-gray-300 font-mono" data-filter="Avançado"> AVANÇADO </button>
                </div>
            </div><!-- Courses Grid -->
            <div id="courses-section" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-16">
                <div class="flex items-center justify-between mb-8">
                    <div>
                        <h3 class="text-3xl font-bold text-white mb-2 font-mono">// CURSOS_DISPONÍVEIS</h3>
                        <p class="text-gray-400">Escolha seu próximo desafio</p>
                    </div>
                </div>
                <div id="courses-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"><!-- Courses will be rendered here -->
                </div>
            </div>
        </section><!-- Course View -->
        <section id="course-view" class="hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><button onclick="showDashboard()" class="flex items-center gap-2 text-gray-400 hover:text-white mb-8 transition-colors group font-mono">
                <svg class="w-5 h-5 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg><span class="font-semibold">← VOLTAR</span> </button>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8"><!-- Video Player -->
                    <div class="lg:col-span-2">
                        <div class="bg-gray-900 rounded-xl shadow-2xl overflow-hidden mb-6 border border-gray-800">
                            <div id="video-player" class="video-player flex items-center justify-center relative scanline">
                                <div id="video-placeholder" class="text-center">
                                    <div class="w-24 h-24 mx-auto mb-6 rounded-lg bg-white/10 flex items-center justify-center backdrop-blur-sm border border-white/20">
                                        <svg class="w-12 h-12 text-white" fill="currentColor" viewbox="0 0 20 20"><path d="M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z" />
                                        </svg>
                                    </div>
                                    <p class="text-white text-xl font-semibold mb-2 font-mono">SELECIONE_UMA_AULA</p>
                                    <p class="text-gray-400">Clique em uma aula da lista ao lado</p>
                                </div>
                                <div id="video-loading" class="hidden absolute inset-0 bg-black/90 flex items-center justify-center">
                                    <div class="text-center">
                                        <div class="w-20 h-20 border-4 border-gray-800 border-t-white rounded-full animate-spin mx-auto mb-4"></div>
                                        <p class="text-white font-semibold text-lg font-mono">CARREGANDO...</p>
                                    </div>
                                </div>
                            </div>
                            <div class="p-8">
                                <div class="flex items-start justify-between mb-4">
                                    <div class="flex-1">
                                        <h3 id="current-lesson-title" class="text-3xl font-bold text-white mb-2 font-mono">AULA_SELECIONADA</h3>
                                        <div class="flex items-center gap-4 text-sm text-gray-400"><span id="current-lesson-duration" class="flex items-center gap-1 font-mono">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg> --:-- </span> <span id="current-lesson-points" class="flex items-center gap-1 font-mono">
              <svg class="w-4 h-4" fill="currentColor" viewbox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
              </svg> -- XP </span>
                                        </div>
                                    </div>
                                </div><button id="mark-complete-btn" onclick="markLessonComplete()" class="btn-primary w-full py-4 font-bold rounded-lg flex items-center justify-center gap-3 text-lg font-mono">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7" />
                                </svg><span>MARCAR_CONCLUÍDA</span> </button>
                            </div>
                        </div><!-- Course Info -->
                        <div class="bg-gray-900 rounded-xl shadow-2xl p-8 border border-gray-800">
                            <div class="flex items-center gap-4 mb-6"><img id="course-instructor-avatar" loading="lazy" onerror="this.src=''; this.style.display='none';" class="w-16 h-16 rounded-lg object-cover border-2 border-gray-700" src="" alt="Instructor">
                                <div>
                                    <h4 class="font-bold text-gray-400 text-sm font-mono">INSTRUTOR</h4>
                                    <p id="course-instructor-name" class="text-white font-semibold text-lg">Nome do Instrutor</p>
                                </div>
                            </div>
                            <h4 class="text-2xl font-bold text-white mb-4 font-mono">// SOBRE_O_CURSO</h4>
                            <p id="course-detail-description" class="text-gray-300 leading-relaxed mb-6">Descrição do curso aparecerá aqui.</p>
                            <div class="flex items-center gap-6 text-sm">
                                <div class="flex items-center gap-2">
                                    <svg class="w-5 h-5 text-white" fill="currentColor" viewbox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                    </svg><span id="course-rating" class="font-bold text-white font-mono">--</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
                                    </svg><span id="course-students" class="font-bold text-white font-mono">--</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg><span id="course-duration" class="font-bold text-white font-mono">--</span>
                                </div>
                            </div>
                        </div>
                    </div><!-- Lessons Sidebar -->
                    <div class="lg:col-span-1">
                        <div class="bg-gray-900 rounded-xl shadow-2xl overflow-hidden sticky top-24 border border-gray-800">
                            <div class="p-6 border-b border-gray-800 bg-black">
                                <h4 class="font-bold text-white mb-3 text-lg font-mono">// CONTEÚDO</h4>
                                <div class="flex items-center justify-between text-sm mb-3"><span class="text-gray-400 font-semibold font-mono"><span id="course-completed-count">0</span> / <span id="course-total-count">0</span> AULAS</span> <span id="course-progress-percent" class="font-bold text-white text-lg font-mono">0%</span>
                                </div>
                                <div class="w-full h-3 bg-gray-800 rounded-full overflow-hidden">
                                    <div id="course-progress-bar" class="progress-bar h-full bg-white" style="width: 0%"></div>
                                </div>
                            </div>
                            <div id="lessons-list" class="max-h-96 overflow-y-auto bg-gray-900"><!-- Lessons will be rendered here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main><!-- Achievement Modal -->
    <div id="achievement-modal" class="fixed inset-0 z-50 hidden bg-black/90 backdrop-blur-sm flex items-center justify-center p-4">
        <div class="bg-gray-900 rounded-2xl shadow-2xl max-w-md w-full p-10 text-center animate-fade-up border-2 border-white">
            <div class="w-28 h-28 mx-auto mb-6 rounded-lg bg-white flex items-center justify-center trophy-bounce shadow-2xl">
                <svg class="w-14 h-14 text-black" fill="currentColor" viewbox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                </svg>
            </div>
            <h3 class="text-4xl font-bold text-white mb-4 font-mono">ACHIEVEMENT_UNLOCKED</h3>
            <p id="achievement-message" class="text-xl text-gray-300 mb-8 font-mono">Você ganhou 50 XP!</p><button onclick="closeAchievement()" class="btn-primary w-full py-4 font-bold rounded-lg text-lg font-mono"> CONTINUAR </button>
        </div>
    </div><!-- Certificate Modal -->
    <div id="certificate-modal" class="fixed inset-0 z-50 hidden bg-black/90 backdrop-blur-sm flex items-center justify-center p-4">
        <div class="bg-gray-900 rounded-2xl shadow-2xl max-w-3xl w-full overflow-hidden border-2 border-white">
            <div class="bg-black p-10 text-white text-center relative overflow-hidden">
                <div class="tech-grid absolute inset-0 opacity-20"></div>
                <div class="relative z-10">
                    <div class="w-24 h-24 mx-auto mb-6 rounded-lg bg-white flex items-center justify-center backdrop-blur-sm">
                        <svg class="w-12 h-12 text-black" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <h3 class="text-4xl font-bold mb-3 font-mono">CERTIFICADO_DE_CONCLUSÃO</h3>
                    <p class="text-xl text-gray-400">Você completou o curso com sucesso!</p>
                </div>
            </div>
            <div class="p-10 text-center border-4 border-dashed border-gray-700 m-8 rounded-xl bg-gray-800">
                <p class="text-sm text-gray-400 mb-3 font-semibold font-mono">CERTIFICAMOS QUE</p>
                <p class="text-3xl font-bold text-white mb-6 font-mono">ESTUDANTE_ACADEMYCODEX</p>
                <p class="text-sm text-gray-400 mb-3 font-semibold font-mono">CONCLUIU COM ÊXITO O CURSO</p>
                <p id="certificate-course-name" class="text-2xl font-bold text-white mb-8 font-mono">NOME_DO_CURSO</p>
                <div class="flex items-center justify-center gap-8 text-sm text-gray-400">
                    <div>
                        <p class="font-semibold font-mono">DATA_CONCLUSÃO</p>
                        <p id="certificate-date" class="font-bold text-white font-mono"></p>
                    </div>
                    <div>
                        <p class="font-semibold font-mono">CARGA_HORÁRIA</p>
                        <p id="certificate-hours" class="font-bold text-white font-mono">--</p>
                    </div>
                </div>
            </div>
            <div class="p-6 bg-black flex gap-4"><button onclick="closeCertificate()" class="flex-1 py-4 border-2 border-gray-700 text-gray-300 font-bold rounded-lg hover:bg-gray-800 transition-all font-mono"> FECHAR </button> <button onclick="downloadCertificate()" class="flex-1 py-4 btn-primary font-bold rounded-lg font-mono"> DOWNLOAD_CERTIFICADO </button>
            </div>
        </div>
    </div><!-- Toast Notification -->
    <div id="toast" class="fixed bottom-8 right-8 z-50 transform translate-y-32 transition-transform duration-300">
        <div class="glass-effect rounded-xl shadow-2xl p-6 flex items-center gap-4 max-w-md">
            <div class="w-14 h-14 rounded-lg bg-white flex items-center justify-center flex-shrink-0">
                <svg class="w-7 h-7 text-black" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7" />
                </svg>
            </div>
            <div class="flex-1">
                <p id="toast-message" class="text-sm font-bold text-white font-mono">NOTIFICAÇÃO</p>
            </div>
        </div>
    </div>
</div>
<script>
    const defaultConfig = {
        platform_name: 'AcademyCodexi',
        platform_tagline: 'Código. Conhecimento. Conquista.',
        hero_title: 'Domine a Arte do Código',
        hero_subtitle: 'Aprenda com experts da indústria',
        cta_button: 'Começar Jornada',
        background_color: '#000000',
        surface_color: '#1a1a1a',
        text_color: '#ffffff',
        primary_color: '#ffffff',
        accent_color: '#404040',
        font_family: 'Sora',
        font_size: 16
    };

    let config = { ...defaultConfig };
    let userProgress = [];
    let currentCourseId = null;
    let currentLessonId = null;
    let isLoading = false;
    let currentFilter = 'all';

    const courses = [
        {
            id: 'laravel-basics',
            title: 'Laravel do Zero ao Avançado',
            description: 'Aprenda a criar aplicações web robustas com Laravel, o framework PHP mais popular do mundo. Desde instalação até deploy em produção.',
            duration: '12 horas',
            level: 'Intermediário',
            image: 'https://images.unsplash.com/photo-1555066931-4365d14bab8c?w=800&q=80',
            instructor: 'Prof. Carlos Silva',
            rating: 4.8,
            students: 1250,
            lessons: [
                { id: 'l1', title: 'Introdução ao Laravel e Ecossistema PHP', duration: '15:30', points: 50 },
                { id: 'l2', title: 'Instalação e Configuração do Ambiente', duration: '20:00', points: 50 },
                { id: 'l3', title: 'Rotas e Controllers MVC', duration: '25:45', points: 100 },
                { id: 'l4', title: 'Blade Templates e Layouts', duration: '18:20', points: 75 },
                { id: 'l5', title: 'Eloquent ORM e Relacionamentos', duration: '30:00', points: 100 },
                { id: 'l6', title: 'Migrations, Seeders e Factories', duration: '22:15', points: 75 },
                { id: 'l7', title: 'Autenticação e Autorização', duration: '28:00', points: 100 },
                { id: 'l8', title: 'APIs RESTful com Laravel', duration: '32:00', points: 125 }
            ]
        },
        {
            id: 'postgres-mastery',
            title: 'PostgreSQL: Banco de Dados Completo',
            description: 'Domine o PostgreSQL desde consultas básicas até otimização avançada de queries e administração de banco de dados.',
            duration: '10 horas',
            level: 'Intermediário',
            image: 'https://images.unsplash.com/photo-1544383835-bda2bc66a55d?w=800&q=80',
            instructor: 'Profa. Ana Santos',
            rating: 4.9,
            students: 980,
            lessons: [
                { id: 'l1', title: 'Introdução ao PostgreSQL', duration: '12:00', points: 50 },
                { id: 'l2', title: 'Criando Databases e Tables', duration: '18:30', points: 75 },
                { id: 'l3', title: 'Queries SQL Avançadas e Joins', duration: '25:00', points: 100 },
                { id: 'l4', title: 'Indexes e Otimização de Performance', duration: '22:45', points: 100 },
                { id: 'l5', title: 'Stored Procedures e Functions', duration: '20:00', points: 75 },
                { id: 'l6', title: 'Triggers e Views', duration: '19:00', points: 75 },
                { id: 'l7', title: 'Backup, Restore e Replicação', duration: '24:30', points: 100 },
                { id: 'l8', title: 'Segurança e Permissões', duration: '16:00', points: 75 }
            ]
        },
        {
            id: 'docker-devops',
            title: 'Docker para Desenvolvedores',
            description: 'Aprenda a containerizar aplicações e criar ambientes de desenvolvimento consistentes com Docker e Docker Compose.',
            duration: '8 horas',
            level: 'Básico',
            image: 'https://images.unsplash.com/photo-1605745341112-85968b19335b?w=800&q=80',
            instructor: 'Prof. Ricardo Lima',
            rating: 4.7,
            students: 1540,
            lessons: [
                { id: 'l1', title: 'O que é Docker e Containers?', duration: '10:00', points: 50 },
                { id: 'l2', title: 'Instalação e Primeiros Passos', duration: '15:00', points: 50 },
                { id: 'l3', title: 'Docker Images e Containers na Prática', duration: '20:30', points: 75 },
                { id: 'l4', title: 'Dockerfile - Criando Suas Imagens', duration: '22:00', points: 100 },
                { id: 'l5', title: 'Docker Compose para Multi-containers', duration: '25:00', points: 100 },
                { id: 'l6', title: 'Volumes e Persistência de Dados', duration: '18:00', points: 75 },
                { id: 'l7', title: 'Docker Networks', duration: '16:30', points: 75 },
                { id: 'l8', title: 'Deploy e Produção com Docker', duration: '22:00', points: 100 }
            ]
        },
        {
            id: 'react-modern',
            title: 'React Moderno: Hooks e Context API',
            description: 'Domine React com as melhores práticas atuais, incluindo Hooks, Context API, e arquitetura de componentes.',
            duration: '14 horas',
            level: 'Intermediário',
            image: 'https://images.unsplash.com/photo-1633356122544-f134324a6cee?w=800&q=80',
            instructor: 'Prof. Felipe Costa',
            rating: 4.9,
            students: 2100,
            lessons: [
                { id: 'l1', title: 'Introdução ao React e JSX', duration: '14:00', points: 50 },
                { id: 'l2', title: 'Componentes Funcionais', duration: '18:00', points: 75 },
                { id: 'l3', title: 'useState e useEffect', duration: '26:00', points: 100 },
                { id: 'l4', title: 'useContext e State Global', duration: '24:00', points: 100 },
                { id: 'l5', title: 'useReducer e Gerenciamento Complexo', duration: '28:00', points: 125 },
                { id: 'l6', title: 'Custom Hooks', duration: '22:00', points: 100 },
                { id: 'l7', title: 'React Router e Navegação', duration: '20:00', points: 75 },
                { id: 'l8', title: 'Performance e Otimização', duration: '25:00', points: 100 }
            ]
        },
        {
            id: 'nodejs-api',
            title: 'Node.js: APIs Escaláveis',
            description: 'Construa APIs RESTful robustas e escaláveis com Node.js, Express e MongoDB. Deploy em produção.',
            duration: '16 horas',
            level: 'Avançado',
            image: 'https://images.unsplash.com/photo-1627398242454-45a1465c2479?w=800&q=80',
            instructor: 'Prof. Marcos Oliveira',
            rating: 4.8,
            students: 1680,
            lessons: [
                { id: 'l1', title: 'Fundamentos do Node.js', duration: '16:00', points: 75 },
                { id: 'l2', title: 'Express.js Framework', duration: '20:00', points: 75 },
                { id: 'l3', title: 'Middlewares e Rotas', duration: '24:00', points: 100 },
                { id: 'l4', title: 'MongoDB e Mongoose', duration: '28:00', points: 100 },
                { id: 'l5', title: 'Autenticação JWT', duration: '26:00', points: 125 },
                { id: 'l6', title: 'Validação e Tratamento de Erros', duration: '22:00', points: 100 },
                { id: 'l7', title: 'Upload de Arquivos', duration: '20:00', points: 75 },
                { id: 'l8', title: 'Testes e Deploy', duration: '30:00', points: 125 }
            ]
        },
        {
            id: 'python-data',
            title: 'Python para Análise de Dados',
            description: 'Aprenda Python, Pandas, NumPy e visualização de dados. Do básico ao avançado em Data Science.',
            duration: '18 horas',
            level: 'Básico',
            image: 'https://images.unsplash.com/photo-1526379095098-d400fd0bf935?w=800&q=80',
            instructor: 'Profa. Julia Martins',
            rating: 4.9,
            students: 2450,
            lessons: [
                { id: 'l1', title: 'Introdução ao Python', duration: '18:00', points: 75 },
                { id: 'l2', title: 'Estruturas de Dados', duration: '22:00', points: 75 },
                { id: 'l3', title: 'NumPy para Computação Científica', duration: '26:00', points: 100 },
                { id: 'l4', title: 'Pandas - Manipulação de DataFrames', duration: '30:00', points: 125 },
                { id: 'l5', title: 'Limpeza e Preparação de Dados', duration: '28:00', points: 100 },
                { id: 'l6', title: 'Visualização com Matplotlib', duration: '24:00', points: 100 },
                { id: 'l7', title: 'Análise Estatística', duration: '26:00', points: 100 },
                { id: 'l8', title: 'Projeto Final - Análise Completa', duration: '32:00', points: 150 }
            ]
        },
        {
            id: 'typescript-advanced',
            title: 'TypeScript Avançado',
            description: 'Domine TypeScript com tipos avançados, generics, decorators e integração com frameworks modernos.',
            duration: '10 horas',
            level: 'Avançado',
            image: 'https://images.unsplash.com/photo-1587620962725-abab7fe55159?w=800&q=80',
            instructor: 'Prof. Daniel Rocha',
            rating: 4.7,
            students: 890,
            lessons: [
                { id: 'l1', title: 'TypeScript Fundamentos', duration: '14:00', points: 50 },
                { id: 'l2', title: 'Tipos Avançados e Utility Types', duration: '20:00', points: 100 },
                { id: 'l3', title: 'Generics e Type Constraints', duration: '24:00', points: 100 },
                { id: 'l4', title: 'Decorators e Metadata', duration: '22:00', points: 100 },
                { id: 'l5', title: 'TypeScript com React', duration: '26:00', points: 125 },
                { id: 'l6', title: 'TypeScript com Node.js', duration: '24:00', points: 100 },
                { id: 'l7', title: 'Testing com TypeScript', duration: '20:00', points: 75 },
                { id: 'l8', title: 'Build e Deploy', duration: '18:00', points: 75 }
            ]
        },
        {
            id: 'aws-cloud',
            title: 'AWS Cloud Practitioner',
            description: 'Preparação completa para certificação AWS e domínio dos principais serviços da Amazon Web Services.',
            duration: '20 horas',
            level: 'Intermediário',
            image: 'https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=800&q=80',
            instructor: 'Prof. Rafael Santos',
            rating: 4.9,
            students: 1890,
            lessons: [
                { id: 'l1', title: 'Introdução à AWS', duration: '16:00', points: 75 },
                { id: 'l2', title: 'EC2 - Servidores Virtuais', duration: '28:00', points: 100 },
                { id: 'l3', title: 'S3 - Armazenamento de Objetos', duration: '24:00', points: 100 },
                { id: 'l4', title: 'RDS - Bancos de Dados', duration: '26:00', points: 100 },
                { id: 'l5', title: 'Lambda e Serverless', duration: '30:00', points: 125 },
                { id: 'l6', title: 'VPC e Redes', duration: '28:00', points: 100 },
                { id: 'l7', title: 'IAM e Segurança', duration: '24:00', points: 100 },
                { id: 'l8', title: 'CloudWatch e Monitoring', duration: '22:00', points: 100 }
            ]
        },
        {
            id: 'vue-complete',
            title: 'Vue.js 3 Completo',
            description: 'Do básico ao avançado em Vue.js 3, incluindo Composition API, Vuex, Vue Router e muito mais.',
            duration: '12 horas',
            level: 'Básico',
            image: 'https://images.unsplash.com/photo-1593720213428-28a5b9e94613?w=800&q=80',
            instructor: 'Profa. Beatriz Alves',
            rating: 4.8,
            students: 1320,
            lessons: [
                { id: 'l1', title: 'Introdução ao Vue.js 3', duration: '14:00', points: 50 },
                { id: 'l2', title: 'Componentes e Props', duration: '20:00', points: 75 },
                { id: 'l3', title: 'Composition API', duration: '26:00', points: 100 },
                { id: 'l4', title: 'Vue Router - Navegação', duration: '22:00', points: 100 },
                { id: 'l5', title: 'Vuex - State Management', duration: '28:00', points: 125 },
                { id: 'l6', title: 'Comunicação com APIs', duration: '20:00', points: 75 },
                { id: 'l7', title: 'Testes em Vue.js', duration: '24:00', points: 100 },
                { id: 'l8', title: 'Build e Deploy', duration: '18:00', points: 75 }
            ]
        },
        {
            id: 'graphql-api',
            title: 'GraphQL: APIs Modernas',
            description: 'Aprenda a criar APIs GraphQL eficientes e escaláveis. Apollo Server, Resolvers, Mutations e mais.',
            duration: '9 horas',
            level: 'Avançado',
            image: 'https://images.unsplash.com/photo-1558494949-ef010cbdcc31?w=800&q=80',
            instructor: 'Prof. Lucas Ferreira',
            rating: 4.7,
            students: 760,
            lessons: [
                { id: 'l1', title: 'GraphQL vs REST', duration: '12:00', points: 50 },
                { id: 'l2', title: 'Schema e Type Definitions', duration: '18:00', points: 75 },
                { id: 'l3', title: 'Queries e Resolvers', duration: '22:00', points: 100 },
                { id: 'l4', title: 'Mutations e Input Types', duration: '20:00', points: 100 },
                { id: 'l5', title: 'Subscriptions em Tempo Real', duration: '24:00', points: 125 },
                { id: 'l6', title: 'Apollo Server Setup', duration: '20:00', points: 75 },
                { id: 'l7', title: 'Autenticação e Authorization', duration: '22:00', points: 100 },
                { id: 'l8', title: 'Performance e N+1 Problem', duration: '18:00', points: 75 }
            ]
        },
        {
            id: 'kubernetes-ops',
            title: 'Kubernetes para DevOps',
            description: 'Orquestração de containers com Kubernetes. Deploy, scaling, monitoring e best practices.',
            duration: '15 horas',
            level: 'Avançado',
            image: 'https://images.unsplash.com/photo-1667372393119-3d4c48d07fc9?w=800&q=80',
            instructor: 'Prof. Pedro Souza',
            rating: 4.9,
            students: 1150,
            lessons: [
                { id: 'l1', title: 'Introdução ao Kubernetes', duration: '16:00', points: 75 },
                { id: 'l2', title: 'Pods e Deployments', duration: '24:00', points: 100 },
                { id: 'l3', title: 'Services e Networking', duration: '26:00', points: 100 },
                { id: 'l4', title: 'ConfigMaps e Secrets', duration: '22:00', points: 100 },
                { id: 'l5', title: 'Volumes e Storage', duration: '24:00', points: 100 },
                { id: 'l6', title: 'Scaling e Load Balancing', duration: '28:00', points: 125 },
                { id: 'l7', title: 'Helm Charts', duration: '26:00', points: 100 },
                { id: 'l8', title: 'Monitoring e Logging', duration: '24:00', points: 100 }
            ]
        },
        {
            id: 'flutter-mobile',
            title: 'Flutter: Apps iOS e Android',
            description: 'Desenvolvimento mobile cross-platform com Flutter. Crie apps nativos para iOS e Android.',
            duration: '22 horas',
            level: 'Básico',
            image: 'https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?w=800&q=80',
            instructor: 'Profa. Camila Dias',
            rating: 4.8,
            students: 1920,
            lessons: [
                { id: 'l1', title: 'Dart e Flutter Fundamentos', duration: '20:00', points: 75 },
                { id: 'l2', title: 'Widgets Essenciais', duration: '24:00', points: 100 },
                { id: 'l3', title: 'Layouts e Responsividade', duration: '26:00', points: 100 },
                { id: 'l4', title: 'Navigation e Rotas', duration: '22:00', points: 100 },
                { id: 'l5', title: 'State Management', duration: '30:00', points: 125 },
                { id: 'l6', title: 'APIs e HTTP Requests', duration: '26:00', points: 100 },
                { id: 'l7', title: 'Firebase Integration', duration: '28:00', points: 125 },
                { id: 'l8', title: 'Build e Publicação', duration: '24:00', points: 100 }
            ]
        }
    ];

    const dataHandler = {
        onDataChanged(data) {
            userProgress = data;
            updateDashboard();
            if (currentCourseId) {
                updateCourseProgress();
            }
        }
    };

    async function initApp() {
        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange: async (newConfig) => {
                    config = { ...defaultConfig, ...newConfig };
                    applyConfig();
                },
                mapToCapabilities: (cfg) => ({
                    recolorables: [
                        {
                            get: () => cfg.background_color || defaultConfig.background_color,
                            set: (v) => { cfg.background_color = v; window.elementSdk.setConfig({ background_color: v }); }
                        },
                        {
                            get: () => cfg.surface_color || defaultConfig.surface_color,
                            set: (v) => { cfg.surface_color = v; window.elementSdk.setConfig({ surface_color: v }); }
                        },
                        {
                            get: () => cfg.text_color || defaultConfig.text_color,
                            set: (v) => { cfg.text_color = v; window.elementSdk.setConfig({ text_color: v }); }
                        },
                        {
                            get: () => cfg.primary_color || defaultConfig.primary_color,
                            set: (v) => { cfg.primary_color = v; window.elementSdk.setConfig({ primary_color: v }); }
                        },
                        {
                            get: () => cfg.accent_color || defaultConfig.accent_color,
                            set: (v) => { cfg.accent_color = v; window.elementSdk.setConfig({ accent_color: v }); }
                        }
                    ],
                    borderables: [],
                    fontEditable: {
                        get: () => cfg.font_family || defaultConfig.font_family,
                        set: (v) => { cfg.font_family = v; window.elementSdk.setConfig({ font_family: v }); }
                    },
                    fontSizeable: {
                        get: () => cfg.font_size || defaultConfig.font_size,
                        set: (v) => { cfg.font_size = v; window.elementSdk.setConfig({ font_size: v }); }
                    }
                }),
                mapToEditPanelValues: (cfg) => new Map([
                    ['platform_name', cfg.platform_name || defaultConfig.platform_name],
                    ['platform_tagline', cfg.platform_tagline || defaultConfig.platform_tagline],
                    ['hero_title', cfg.hero_title || defaultConfig.hero_title],
                    ['hero_subtitle', cfg.hero_subtitle || defaultConfig.hero_subtitle],
                    ['cta_button', cfg.cta_button || defaultConfig.cta_button]
                ])
            });
        }

        if (window.dataSdk) {
            const initResult = await window.dataSdk.init(dataHandler);
            if (!initResult.isOk) {
                console.error('Failed to initialize Data SDK');
            }
        }

        renderCourses();
        applyConfig();
    }

    function applyConfig() {
        const elements = {
            'platform-name': config.platform_name || defaultConfig.platform_name,
            'platform-tagline': config.platform_tagline || defaultConfig.platform_tagline,
            'hero-title': config.hero_title || defaultConfig.hero_title,
            'hero-subtitle': config.hero_subtitle || defaultConfig.hero_subtitle,
            'cta-button': config.cta_button || defaultConfig.cta_button
        };

        Object.keys(elements).forEach(id => {
            const el = document.getElementById(id);
            if (el) el.textContent = elements[id];
        });

        const body = document.body;
        body.style.backgroundColor = config.background_color || defaultConfig.background_color;
        body.style.color = config.text_color || defaultConfig.text_color;

        const fontFamily = config.font_family || defaultConfig.font_family;
        const baseSize = config.font_size || defaultConfig.font_size;
        body.style.fontFamily = `${fontFamily}, Sora, -apple-system, BlinkMacSystemFont, sans-serif`;
        body.style.fontSize = `${baseSize}px`;
    }

    function renderCourses() {
        const grid = document.getElementById('courses-grid');
        grid.innerHTML = '';

        const filteredCourses = currentFilter === 'all'
            ? courses
            : courses.filter(c => c.level === currentFilter);

        filteredCourses.forEach((course, index) => {
            const progress = getCourseProgress(course.id);
            const card = document.createElement('div');
            card.className = 'course-card bg-gray-900 rounded-xl shadow-2xl overflow-hidden animate-fade-up';
            card.style.animationDelay = `${index * 0.1}s`;
            card.onclick = () => openCourse(course.id);

            const levelColors = {
                'Básico': 'bg-gray-700 text-gray-200',
                'Intermediário': 'bg-gray-600 text-white',
                'Avançado': 'bg-white text-black'
            };

            card.innerHTML = `
          <div class="relative h-56 overflow-hidden bg-gray-800">
            <img loading="lazy" onerror="this.src=''; this.style.display='none';" src="${course.image}" alt="${course.title}" class="course-image w-full h-full">
            <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
            <div class="absolute bottom-4 left-4 right-4">
              <div class="flex items-center gap-2 mb-2">
                <span class="px-3 py-1 ${levelColors[course.level]} text-xs font-bold rounded font-mono">${course.level.toUpperCase()}</span>
                <span class="px-3 py-1 bg-black/80 text-white text-xs font-bold rounded backdrop-blur-sm border border-gray-700 font-mono">${course.duration}</span>
              </div>
            </div>
          </div>
          <div class="p-6">
            <h4 class="text-xl font-bold text-white mb-2 line-clamp-1 font-mono">${course.title}</h4>
            <p class="text-sm text-gray-400 mb-4 line-clamp-2">${course.description}</p>
            <div class="flex items-center gap-4 mb-4 text-xs text-gray-400">
              <div class="flex items-center gap-1">
                <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                </svg>
                <span class="font-bold font-mono">${course.rating}</span>
              </div>
              <div class="flex items-center gap-1">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/>
                </svg>
                <span class="font-semibold font-mono">${course.students}</span>
              </div>
              <div class="flex items-center gap-1">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                </svg>
                <span class="font-semibold font-mono">${course.lessons.length}</span>
              </div>
            </div>
            <div class="mb-4">
              <div class="flex items-center justify-between text-sm mb-2">
                <span class="text-gray-400 font-semibold font-mono">PROGRESSO</span>
                <span class="font-bold text-white font-mono">${progress}%</span>
              </div>
              <div class="w-full h-2 bg-gray-800 rounded-full overflow-hidden">
                <div class="progress-bar h-full bg-white" style="width: ${progress}%"></div>
              </div>
            </div>
            <button class="btn-primary w-full py-3 font-bold rounded-lg transition-all font-mono">
              ${progress > 0 ? 'CONTINUAR' : 'INICIAR_CURSO'}
            </button>
          </div>
        `;

            grid.appendChild(card);
        });
    }

    function filterCourses(level) {
        currentFilter = level;
        document.querySelectorAll('.filter-tag').forEach(btn => {
            btn.classList.remove('active');
            if (btn.dataset.filter === level) {
                btn.classList.add('active');
            }
        });
        renderCourses();
    }

    function getCourseProgress(courseId) {
        const course = courses.find(c => c.id === courseId);
        if (!course) return 0;

        const completedLessons = userProgress.filter(p =>
            p.course_id === courseId && p.completed
        ).length;

        return Math.round((completedLessons / course.lessons.length) * 100);
    }

    function getTotalPoints() {
        return userProgress.reduce((sum, p) => sum + (p.points || 0), 0);
    }

    function getCompletedLessonsCount() {
        return userProgress.filter(p => p.completed).length;
    }

    function getTotalLessonsCount() {
        return courses.reduce((sum, course) => sum + course.lessons.length, 0);
    }

    function updateDashboard() {
        const totalPoints = getTotalPoints();
        const completedCount = getCompletedLessonsCount();
        const totalCount = getTotalLessonsCount();
        const overallProgress = totalCount > 0 ? Math.round((completedCount / totalCount) * 100) : 0;
        const certificatesCount = courses.filter(course => getCourseProgress(course.id) === 100).length;

        document.getElementById('user-points').textContent = `${totalPoints} XP`;
        document.getElementById('overall-progress').textContent = `${overallProgress}%`;
        document.getElementById('overall-progress-bar').style.width = `${overallProgress}%`;
        document.getElementById('completed-lessons').textContent = completedCount;
        document.getElementById('total-lessons').textContent = totalCount;
        document.getElementById('certificates-earned').textContent = certificatesCount;

        renderCourses();
    }

    function openCourse(courseId) {
        currentCourseId = courseId;
        const course = courses.find(c => c.id === courseId);
        if (!course) return;

        document.getElementById('dashboard-view').classList.add('hidden');
        document.getElementById('course-view').classList.remove('hidden');

        document.getElementById('course-detail-description').textContent = course.description;
        document.getElementById('course-instructor-name').textContent = course.instructor;
        document.getElementById('course-instructor-avatar').src = `https://i.pravatar.cc/150?u=${course.instructor}`;
        document.getElementById('course-rating').textContent = course.rating;
        document.getElementById('course-students').textContent = `${course.students} alunos`;
        document.getElementById('course-duration').textContent = course.duration;

        renderLessons(course);
        updateCourseProgress();
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function renderLessons(course) {
        const list = document.getElementById('lessons-list');
        list.innerHTML = '';

        course.lessons.forEach((lesson, index) => {
            const isCompleted = userProgress.some(p =>
                p.course_id === course.id && p.lesson_id === lesson.id && p.completed
            );

            const item = document.createElement('div');
            item.className = 'lesson-item p-5 border-b border-gray-800';
            item.onclick = () => selectLesson(course.id, lesson.id);

            item.innerHTML = `
          <div class="flex items-center gap-4">
            <div class="w-10 h-10 rounded-lg ${isCompleted ? 'bg-white' : 'bg-gray-800'} flex items-center justify-center flex-shrink-0 border border-gray-700">
              ${isCompleted
                ? '<svg class="w-5 h-5 text-black" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7"/></svg>'
                : `<span class="text-white text-sm font-bold font-mono">${index + 1}</span>`
            }
            </div>
            <div class="flex-1 min-w-0">
              <p class="font-bold text-white text-sm mb-1 truncate">${lesson.title}</p>
              <div class="flex items-center gap-3 text-xs text-gray-400">
                <span class="flex items-center gap-1 font-mono">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                  </svg>
                  ${lesson.duration}
                </span>
                <span class="px-2 py-1 bg-gray-800 text-white font-bold rounded font-mono">${lesson.points} XP</span>
              </div>
            </div>
          </div>
        `;

            list.appendChild(item);
        });
    }

    function updateCourseProgress() {
        if (!currentCourseId) return;

        const course = courses.find(c => c.id === currentCourseId);
        if (!course) return;

        const completedCount = userProgress.filter(p =>
            p.course_id === currentCourseId && p.completed
        ).length;
        const progress = Math.round((completedCount / course.lessons.length) * 100);

        document.getElementById('course-completed-count').textContent = completedCount;
        document.getElementById('course-total-count').textContent = course.lessons.length;
        document.getElementById('course-progress-percent').textContent = `${progress}%`;
        document.getElementById('course-progress-bar').style.width = `${progress}%`;
    }

    async function selectLesson(courseId, lessonId) {
        if (isLoading) return;

        currentLessonId = lessonId;
        const course = courses.find(c => c.id === courseId);
        const lesson = course.lessons.find(l => l.id === lessonId);

        document.getElementById('current-lesson-title').textContent = lesson.title;
        document.getElementById('current-lesson-duration').innerHTML = `
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        ${lesson.duration}
      `;
        document.getElementById('current-lesson-points').innerHTML = `
        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
          <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
        </svg>
        ${lesson.points} XP
      `;

        const isCompleted = userProgress.some(p =>
            p.course_id === courseId && p.lesson_id === lessonId && p.completed
        );

        const btn = document.getElementById('mark-complete-btn');
        if (isCompleted) {
            btn.innerHTML = `
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7"/>
          </svg>
          <span>CONCLUÍDA</span>
        `;
            btn.disabled = true;
            btn.classList.add('opacity-50', 'cursor-not-allowed');
        } else {
            btn.innerHTML = `
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7"/>
          </svg>
          <span>MARCAR_CONCLUÍDA</span>
        `;
            btn.disabled = false;
            btn.classList.remove('opacity-50', 'cursor-not-allowed');
        }

        document.getElementById('video-placeholder').classList.add('hidden');
        document.getElementById('video-loading').classList.remove('hidden');

        setTimeout(() => {
            document.getElementById('video-loading').classList.add('hidden');
            document.getElementById('video-placeholder').classList.remove('hidden');
            document.getElementById('video-placeholder').innerHTML = `
          <div class="text-center">
            <div class="w-24 h-24 mx-auto mb-6 rounded-lg bg-white/10 flex items-center justify-center backdrop-blur-sm border border-white/20">
              <svg class="w-12 h-12 text-white" fill="currentColor" viewBox="0 0 20 20">
                <path d="M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"/>
              </svg>
            </div>
            <p class="text-white text-xl font-semibold mb-2 font-mono">${lesson.title}</p>
            <p class="text-gray-400 text-sm">Simulação de videoaula • ${lesson.duration}</p>
          </div>
        `;
        }, 1200);
    }

    async function markLessonComplete() {
        if (isLoading || !currentCourseId || !currentLessonId) return;

        const course = courses.find(c => c.id === currentCourseId);
        const lesson = course.lessons.find(l => l.id === currentLessonId);

        const alreadyCompleted = userProgress.some(p =>
            p.course_id === currentCourseId && p.lesson_id === currentLessonId && p.completed
        );

        if (alreadyCompleted) {
            showToast('AULA_JÁ_CONCLUÍDA');
            return;
        }

        if (userProgress.length >= 999) {
            showToast('⚠️ LIMITE_MÁXIMO_999_REGISTROS');
            return;
        }

        isLoading = true;
        const btn = document.getElementById('mark-complete-btn');
        btn.disabled = true;
        btn.innerHTML = `
        <div class="w-6 h-6 border-3 border-black border-t-transparent rounded-full animate-spin"></div>
        <span>SALVANDO...</span>
      `;

        const result = await window.dataSdk.create({
            course_id: currentCourseId,
            lesson_id: currentLessonId,
            completed: true,
            progress: 100,
            points: lesson.points,
            completed_at: new Date().toISOString()
        });

        isLoading = false;

        if (result.isOk) {
            showAchievement(`🎉 ACHIEVEMENT_UNLOCKED! +${lesson.points} XP`);

            const newProgress = getCourseProgress(currentCourseId);
            if (newProgress === 100) {
                setTimeout(() => {
                    showCertificate(course.title, course.duration);
                }, 2500);
            }
        } else {
            btn.disabled = false;
            btn.innerHTML = `
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7"/>
          </svg>
          <span>MARCAR_CONCLUÍDA</span>
        `;
            showToast('❌ ERRO_AO_SALVAR');
        }
    }

    function showDashboard() {
        document.getElementById('course-view').classList.add('hidden');
        document.getElementById('dashboard-view').classList.remove('hidden');
        currentCourseId = null;
        currentLessonId = null;
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function scrollToCourses() {
        const section = document.getElementById('courses-section');
        section.scrollIntoView({ behavior: 'smooth' });
    }

    function showAchievement(message) {
        const modal = document.getElementById('achievement-modal');
        document.getElementById('achievement-message').textContent = message;
        modal.classList.remove('hidden');

        setTimeout(() => {
            closeAchievement();
        }, 3500);
    }

    function closeAchievement() {
        document.getElementById('achievement-modal').classList.add('hidden');
    }

    function showCertificate(courseName, duration) {
        const modal = document.getElementById('certificate-modal');
        document.getElementById('certificate-course-name').textContent = courseName.toUpperCase().replace(/ /g, '_');
        document.getElementById('certificate-date').textContent = new Date().toLocaleDateString('pt-BR');
        document.getElementById('certificate-hours').textContent = duration;
        modal.classList.remove('hidden');
    }

    function closeCertificate() {
        document.getElementById('certificate-modal').classList.add('hidden');
    }

    function downloadCertificate() {
        showToast('📄 CERTIFICADO_GERADO_COM_SUCESSO');
    }

    function showToast(message) {
        const toast = document.getElementById('toast');
        const toastMessage = document.getElementById('toast-message');

        toastMessage.textContent = message;
        toast.style.transform = 'translateY(0)';

        setTimeout(() => {
            toast.style.transform = 'translateY(8rem)';
        }, 3500);
    }

    initApp();
</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c0f2bd4b3154f82',t:'MTc2ODkxODM5My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>