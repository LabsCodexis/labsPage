<!doctype html>
<html lang="pt-BR" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fashion Store - Labs Codexis</title>
    <link rel="icon" type="image/png" href="assets/logoLabs.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/_sdk/element_sdk.js"></script>
    <script src="/_sdk/data_sdk.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&amp;family=Montserrat:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
    <style>
        body { box-sizing: border-box; }
        * { font-family: 'Montserrat', sans-serif; }
        .font-display { font-family: 'Playfair Display', serif; }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .animate-fade-in { animation: fadeInUp 0.6s ease-out forwards; }
        .animate-slide-in { animation: slideIn 0.3s ease-out forwards; }
        .animate-pulse-once { animation: pulse 0.3s ease-out; }

        .product-card:hover .product-image { transform: scale(1.08); }
        .product-card:hover .quick-add { opacity: 1; transform: translateY(0); }

        .gradient-border {
            position: relative;
        }
        .gradient-border::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, currentColor, transparent);
        }

        .cart-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            min-width: 20px;
            height: 20px;
            border-radius: 10px;
            font-size: 11px;
            font-weight: 600;
        }

        .size-btn.active {
            background: #1a1a1a;
            color: white;
        }

        .color-btn.active {
            ring: 2px;
            ring-offset: 2px;
        }

        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

        .glass-effect {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
        }

        .product-image img {
            transition: transform 0.5s ease;
        }
    </style>
    <style>@view-transition { navigation: auto; }</style>
</head>
<body class="h-full bg-stone-50 text-stone-900 overflow-auto">
<div id="app" class="w-full h-full min-h-full flex flex-col"><!-- Top Banner -->
    <div id="top-banner" class="bg-stone-900 text-white text-center py-2 text-xs tracking-widest uppercase">
        Frete Gr치tis em compras acima de R$ 299 | Parcele em at칠 10x sem juros
    </div><!-- Header -->
    <header class="sticky top-0 z-50 glass-effect border-b border-stone-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6">
            <div class="flex items-center justify-between h-16 sm:h-20"><!-- Mobile Menu Button --> <button id="mobile-menu-btn" class="lg:hidden p-2 -ml-2">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 6h16M4 12h16M4 18h16" />
                </svg></button> <!-- Logo -->
                <div class="flex-1 lg:flex-none text-center lg:text-left">
                    <h1 id="store-name" class="font-display text-xl sm:text-2xl font-semibold tracking-tight cursor-pointer" onclick="showSection('home')">FASHION STORE</h1>
                    <p class="text-[10px] tracking-[0.3em] text-stone-500 uppercase hidden sm:block">By Labs Codexis</p>
                </div><!-- Desktop Navigation -->
                <nav class="hidden lg:flex items-center space-x-8"><a href="#" onclick="filterCategory('all'); return false;" class="text-sm tracking-wide hover:text-stone-600 transition-colors">Novidades</a> <a href="#" onclick="filterCategory('vestidos'); return false;" class="text-sm tracking-wide hover:text-stone-600 transition-colors">Vestidos</a> <a href="#" onclick="filterCategory('blusas'); return false;" class="text-sm tracking-wide hover:text-stone-600 transition-colors">Blusas</a> <a href="#" onclick="filterCategory('cal칞as'); return false;" class="text-sm tracking-wide hover:text-stone-600 transition-colors">Cal칞as</a> <a href="#" onclick="filterCategory('acess칩rios'); return false;" class="text-sm tracking-wide hover:text-stone-600 transition-colors">Acess칩rios</a> <a href="#" onclick="filterCategory('sale'); return false;" class="text-sm tracking-wide text-rose-600 font-medium hover:text-rose-700 transition-colors">Sale</a>
                </nav><!-- Actions -->
                <div class="flex items-center space-x-3 sm:space-x-4"><button onclick="toggleSearch()" class="p-2 hover:bg-stone-100 rounded-full transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg></button> <button onclick="toggleWishlist()" class="p-2 hover:bg-stone-100 rounded-full transition-colors hidden sm:block relative">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                    </svg><span id="wishlist-count" class="cart-badge bg-stone-900 text-white hidden items-center justify-center">0</span> </button> <button onclick="toggleCart()" class="p-2 hover:bg-stone-100 rounded-full transition-colors relative">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                    </svg><span id="cart-count" class="cart-badge bg-rose-600 text-white flex items-center justify-center">0</span> </button>
                </div>
            </div>
        </div><!-- Search Bar -->
        <div id="search-bar" class="hidden border-t border-stone-200 py-4 px-4 sm:px-6">
            <div class="max-w-2xl mx-auto">
                <div class="relative"><input type="text" id="search-input" placeholder="Buscar produtos..." class="w-full pl-10 pr-4 py-3 bg-stone-100 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-stone-900" oninput="searchProducts(this.value)">
                    <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                </div>
            </div>
        </div>
    </header><!-- Mobile Menu -->
    <div id="mobile-menu" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-black/50" onclick="closeMobileMenu()"></div>
        <div class="absolute left-0 top-0 bottom-0 w-80 max-w-full bg-white animate-slide-in">
            <div class="p-6">
                <div class="flex items-center justify-between mb-8"><span class="font-display text-xl font-semibold">Menu</span> <button onclick="closeMobileMenu()" class="p-2">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12" />
                    </svg></button>
                </div>
                <nav class="space-y-4"><a href="#" onclick="filterCategory('all'); closeMobileMenu(); return false;" class="block py-2 text-lg">Novidades</a> <a href="#" onclick="filterCategory('vestidos'); closeMobileMenu(); return false;" class="block py-2 text-lg">Vestidos</a> <a href="#" onclick="filterCategory('blusas'); closeMobileMenu(); return false;" class="block py-2 text-lg">Blusas</a> <a href="#" onclick="filterCategory('cal칞as'); closeMobileMenu(); return false;" class="block py-2 text-lg">Cal칞as</a> <a href="#" onclick="filterCategory('acess칩rios'); closeMobileMenu(); return false;" class="block py-2 text-lg">Acess칩rios</a> <a href="#" onclick="filterCategory('sale'); closeMobileMenu(); return false;" class="block py-2 text-lg text-rose-600 font-medium">Sale</a>
                </nav>
            </div>
        </div>
    </div><!-- Main Content -->
    <main class="flex-1"><!-- Hero Section -->
        <section id="hero-section" class="relative overflow-hidden bg-gradient-to-br from-stone-100 via-stone-50 to-amber-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 py-12 sm:py-20 lg:py-28">
                <div class="grid lg:grid-cols-2 gap-8 lg:gap-12 items-center">
                    <div class="text-center lg:text-left animate-fade-in"><span class="inline-block px-4 py-1.5 bg-stone-900 text-white text-xs tracking-widest uppercase mb-4 sm:mb-6">Nova Cole칞칚o</span>
                        <h2 id="hero-title" class="font-display text-4xl sm:text-5xl lg:text-6xl font-medium leading-tight mb-4 sm:mb-6">Primavera<br>
                            Ver칚o 2025</h2>
                        <p id="hero-subtitle" class="text-stone-600 text-base sm:text-lg mb-6 sm:mb-8 max-w-md mx-auto lg:mx-0">Descubra as 칰ltimas tend칡ncias com pe칞as exclusivas que combinam eleg칙ncia atemporal e estilo contempor칙neo.</p>
                        <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start"><button onclick="filterCategory('all')" class="px-8 py-3 bg-stone-900 text-white text-sm tracking-wide hover:bg-stone-800 transition-colors"> EXPLORAR COLE칂츾O </button> <button onclick="filterCategory('sale')" class="px-8 py-3 border border-stone-900 text-stone-900 text-sm tracking-wide hover:bg-stone-900 hover:text-white transition-colors"> VER PROMO칂칏ES </button>
                        </div>
                    </div>
                    <div class="relative animate-fade-in" style="animation-delay: 0.2s;">
                        <div class="aspect-[4/5] rounded-2xl overflow-hidden bg-gradient-to-br from-amber-100 to-rose-100"><img src="https://images.unsplash.com/photo-1515372039744-b8f02a3ae446?w=800&amp;h=1000&amp;fit=crop" alt="Fashion Collection" loading="lazy" onerror="this.src=''; this.alt='Imagem indispon칤vel'; this.style.display='none';" class="w-full h-full object-cover">
                        </div>
                    </div>
                </div>
            </div><!-- Decorative Elements -->
            <div class="absolute top-20 left-10 w-20 h-20 border border-stone-300 rounded-full opacity-30"></div>
            <div class="absolute bottom-20 right-20 w-32 h-32 border border-amber-300 rounded-full opacity-30"></div>
        </section><!-- Categories Bar -->
        <section class="border-b border-stone-200 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6">
                <div class="flex items-center gap-6 py-4 overflow-x-auto scrollbar-hide"><button onclick="filterCategory('all')" class="category-btn flex-shrink-0 text-sm text-stone-600 hover:text-stone-900 transition-colors whitespace-nowrap font-semibold" data-category="all"> Todos </button> <button onclick="filterCategory('vestidos')" class="category-btn flex-shrink-0 text-sm text-stone-600 hover:text-stone-900 transition-colors whitespace-nowrap" data-category="vestidos"> Vestidos </button> <button onclick="filterCategory('blusas')" class="category-btn flex-shrink-0 text-sm text-stone-600 hover:text-stone-900 transition-colors whitespace-nowrap" data-category="blusas"> Blusas &amp; Tops </button> <button onclick="filterCategory('cal칞as')" class="category-btn flex-shrink-0 text-sm text-stone-600 hover:text-stone-900 transition-colors whitespace-nowrap" data-category="cal칞as"> Cal칞as &amp; Saias </button> <button onclick="filterCategory('acess칩rios')" class="category-btn flex-shrink-0 text-sm text-stone-600 hover:text-stone-900 transition-colors whitespace-nowrap" data-category="acess칩rios"> Acess칩rios </button> <button onclick="filterCategory('sale')" class="category-btn flex-shrink-0 text-sm text-rose-600 font-medium hover:text-rose-700 transition-colors whitespace-nowrap" data-category="sale"> 游댠 Sale </button>
                    <div class="flex-1"></div><select id="sort-select" onchange="sortProducts(this.value)" class="text-sm bg-transparent border-0 text-stone-600 focus:outline-none cursor-pointer"> <option value="newest">Mais recentes</option> <option value="price-low">Menor pre칞o</option> <option value="price-high">Maior pre칞o</option> <option value="popular">Mais vendidos</option> </select>
                </div>
            </div>
        </section><!-- Products Grid -->
        <section class="py-8 sm:py-12">
            <div class="max-w-7xl mx-auto px-4 sm:px-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 id="section-title" class="font-display text-2xl sm:text-3xl">Todos os Produtos</h3><span id="product-count" class="text-sm text-stone-500">512 produtos</span>
                </div>
                <div id="products-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"><!-- Products will be rendered here -->
                </div><!-- Load More -->
                <div class="text-center mt-10"><button onclick="loadMoreProducts()" class="px-12 py-3 border border-stone-300 text-sm tracking-wide hover:border-stone-900 hover:bg-stone-900 hover:text-white transition-all"> CARREGAR MAIS </button>
                </div>
            </div>
        </section><!-- Features -->
        <section class="py-12 bg-white border-t border-stone-200">
            <div class="max-w-7xl mx-auto px-4 sm:px-6">
                <div class="grid grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8">
                    <div class="text-center">
                        <div class="w-12 h-12 mx-auto mb-4 rounded-full bg-stone-100 flex items-center justify-center">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" />
                            </svg>
                        </div>
                        <h4 class="font-medium mb-1 text-sm sm:text-base">Frete Gr치tis</h4>
                        <p class="text-xs sm:text-sm text-stone-500">Em compras acima de R$299</p>
                    </div>
                    <div class="text-center">
                        <div class="w-12 h-12 mx-auto mb-4 rounded-full bg-stone-100 flex items-center justify-center">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                            </svg>
                        </div>
                        <h4 class="font-medium mb-1 text-sm sm:text-base">Troca F치cil</h4>
                        <p class="text-xs sm:text-sm text-stone-500">30 dias para trocar</p>
                    </div>
                    <div class="text-center">
                        <div class="w-12 h-12 mx-auto mb-4 rounded-full bg-stone-100 flex items-center justify-center">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                            </svg>
                        </div>
                        <h4 class="font-medium mb-1 text-sm sm:text-base">Pagamento Seguro</h4>
                        <p class="text-xs sm:text-sm text-stone-500">Criptografia SSL</p>
                    </div>
                    <div class="text-center">
                        <div class="w-12 h-12 mx-auto mb-4 rounded-full bg-stone-100 flex items-center justify-center">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />
                            </svg>
                        </div>
                        <h4 class="font-medium mb-1 text-sm sm:text-base">Parcele em 10x</h4>
                        <p class="text-xs sm:text-sm text-stone-500">Sem juros no cart칚o</p>
                    </div>
                </div>
            </div>
        </section><!-- Payment Methods -->
        <section class="py-8 border-t border-stone-200">
            <div class="max-w-7xl mx-auto px-4 sm:px-6">
                <p class="text-center text-xs text-stone-500 mb-4">Formas de pagamento</p>
                <div class="flex items-center justify-center gap-4 flex-wrap">
                    <div class="px-4 py-2 bg-white rounded-lg shadow-sm border border-stone-200"><span class="text-xs font-medium text-blue-600">VISA</span>
                    </div>
                    <div class="px-4 py-2 bg-white rounded-lg shadow-sm border border-stone-200"><span class="text-xs font-medium text-red-600">Mastercard</span>
                    </div>
                    <div class="px-4 py-2 bg-white rounded-lg shadow-sm border border-stone-200"><span class="text-xs font-medium text-blue-800">Amex</span>
                    </div>
                    <div class="px-4 py-2 bg-white rounded-lg shadow-sm border border-stone-200"><span class="text-xs font-medium text-green-600">PIX</span>
                    </div>
                    <div class="px-4 py-2 bg-white rounded-lg shadow-sm border border-stone-200"><span class="text-xs font-medium text-orange-600">Boleto</span>
                    </div>
                    <div class="px-4 py-2 bg-white rounded-lg shadow-sm border border-stone-200"><span class="text-xs font-medium text-teal-600">PayPal</span>
                    </div>
                </div>
            </div>
        </section>
    </main><!-- Footer -->
    <footer class="bg-stone-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-12">
                <div>
                    <h5 class="font-medium mb-4">Institucional</h5>
                    <ul class="space-y-2 text-sm text-stone-400">
                        <li><a href="#" class="hover:text-white transition-colors">Sobre n칩s</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Nossas lojas</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Trabalhe conosco</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Sustentabilidade</a></li>
                    </ul>
                </div>
                <div>
                    <h5 class="font-medium mb-4">Ajuda</h5>
                    <ul class="space-y-2 text-sm text-stone-400">
                        <li><a href="#" class="hover:text-white transition-colors">Central de ajuda</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Como comprar</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Trocas e devolu칞칫es</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Prazo de entrega</a></li>
                    </ul>
                </div>
                <div>
                    <h5 class="font-medium mb-4">Minha conta</h5>
                    <ul class="space-y-2 text-sm text-stone-400">
                        <li><a href="#" class="hover:text-white transition-colors">Meus pedidos</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Lista de desejos</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Meus dados</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Cart칚o presente</a></li>
                    </ul>
                </div>
                <div>
                    <h5 class="font-medium mb-4">Newsletter</h5>
                    <p class="text-sm text-stone-400 mb-4">Receba ofertas exclusivas</p>
                    <form onsubmit="event.preventDefault(); showToast('Inscrito com sucesso!');" class="flex"><input type="email" placeholder="Seu e-mail" class="flex-1 px-4 py-2 bg-stone-800 text-white text-sm rounded-l focus:outline-none"> <button type="submit" class="px-4 py-2 bg-white text-stone-900 text-sm font-medium rounded-r hover:bg-stone-100 transition-colors">OK</button>
                    </form>
                </div>
            </div>
            <div class="pt-8 border-t border-stone-800 flex flex-col sm:flex-row items-center justify-between gap-4">
                <p class="text-sm text-stone-500">춸 2025 Fashion Store. Desenvolvido por Labs Codexis</p>
                <div class="flex items-center gap-4"><a href="#" class="text-stone-400 hover:text-white transition-colors">
                    <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
                        <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" />
                    </svg></a> <a href="#" class="text-stone-400 hover:text-white transition-colors">
                    <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
                        <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
                    </svg></a> <a href="#" class="text-stone-400 hover:text-white transition-colors">
                    <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
                        <path d="M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-5.2 1.74 2.89 2.89 0 012.31-4.64 2.93 2.93 0 01.88.13V9.4a6.84 6.84 0 00-1-.05A6.33 6.33 0 005 20.1a6.34 6.34 0 0010.86-4.43v-7a8.16 8.16 0 004.77 1.52v-3.4a4.85 4.85 0 01-1-.1z" />
                    </svg></a>
                </div>
            </div>
        </div>
    </footer><!-- Cart Sidebar -->
    <div id="cart-sidebar" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-black/50" onclick="toggleCart()"></div>
        <div class="absolute right-0 top-0 bottom-0 w-full max-w-md bg-white animate-slide-in flex flex-col">
            <div class="p-6 border-b border-stone-200 flex items-center justify-between">
                <h3 class="font-display text-xl">Seu Carrinho</h3><button onclick="toggleCart()" class="p-2">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12" />
                </svg></button>
            </div>
            <div id="cart-items" class="flex-1 overflow-y-auto p-6"><!-- Cart items will be rendered here -->
            </div>
            <div id="cart-footer" class="p-6 border-t border-stone-200">
                <div class="flex items-center justify-between mb-4"><span class="text-stone-600">Subtotal</span> <span id="cart-subtotal" class="text-xl font-medium">R$ 0,00</span>
                </div><button onclick="checkout()" class="w-full py-4 bg-stone-900 text-white text-sm tracking-wide hover:bg-stone-800 transition-colors"> FINALIZAR COMPRA </button>
                <p class="text-xs text-center text-stone-500 mt-4">Frete e impostos calculados no checkout</p>
            </div>
        </div>
    </div><!-- Quick View Modal -->
    <div id="quick-view-modal" class="fixed inset-0 z-50 hidden items-center justify-center p-4">
        <div class="absolute inset-0 bg-black/50" onclick="closeQuickView()"></div>
        <div class="relative bg-white rounded-2xl max-w-4xl w-full max-h-[90%] overflow-y-auto animate-fade-in"><button onclick="closeQuickView()" class="absolute top-4 right-4 z-10 p-2 bg-white rounded-full shadow-lg">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12" />
            </svg></button>
            <div id="quick-view-content" class="grid md:grid-cols-2 gap-6 p-6"><!-- Content will be rendered here -->
            </div>
        </div>
    </div><!-- Toast -->
    <div id="toast" class="fixed bottom-4 left-1/2 -translate-x-1/2 z-50 hidden">
        <div class="px-6 py-3 bg-stone-900 text-white rounded-full shadow-lg text-sm animate-fade-in"><span id="toast-message">Item adicionado ao carrinho!</span>
        </div>
    </div>
</div>
<script>
    // Product Data with real Unsplash images
    const products = [
        { id: '1', name: 'Vestido Midi Floral', price: 389.90, originalPrice: 489.90, category: 'vestidos', colors: ['#1a1a1a', '#8b5a2b', '#deb887'], sizes: ['PP', 'P', 'M', 'G', 'GG'], tag: 'sale', image: 'https://images.unsplash.com/photo-1572804013309-59a88b7e92f1?w=600&h=800&fit=crop' },
        { id: '2', name: 'Blusa Cropped Cetim', price: 159.90, originalPrice: null, category: 'blusas', colors: ['#f5f5dc', '#1a1a1a', '#8b0000'], sizes: ['PP', 'P', 'M', 'G'], tag: 'new', image: 'https://images.unsplash.com/photo-1564257577001-a7ff64e3926e?w=600&h=800&fit=crop' },
        { id: '3', name: 'Cal칞a Wide Leg Alfaiataria', price: 279.90, originalPrice: null, category: 'cal칞as', colors: ['#1a1a1a', '#f5f5dc', '#2f4f4f'], sizes: ['34', '36', '38', '40', '42'], tag: null, image: 'https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?w=600&h=800&fit=crop' },
        { id: '4', name: 'Bolsa Estruturada Couro', price: 459.90, originalPrice: 599.90, category: 'acess칩rios', colors: ['#1a1a1a', '#8b4513', '#daa520'], sizes: ['칔nico'], tag: 'sale', image: 'https://images.unsplash.com/photo-1548036328-c9fa89d128fa?w=600&h=800&fit=crop' },
        { id: '5', name: 'Vestido Longo Estampado', price: 449.90, originalPrice: null, category: 'vestidos', colors: ['#2e8b57', '#4169e1', '#dc143c'], sizes: ['PP', 'P', 'M', 'G', 'GG'], tag: 'bestseller', image: 'https://images.unsplash.com/photo-1595777457583-95e059d581b8?w=600&h=800&fit=crop' },
        { id: '6', name: 'Camisa Oversized Linho', price: 219.90, originalPrice: null, category: 'blusas', colors: ['#f5f5dc', '#87ceeb', '#ffc0cb'], sizes: ['PP', 'P', 'M', 'G'], tag: 'new', image: 'https://images.unsplash.com/photo-1618932260643-eee4a2f652a6?w=600&h=800&fit=crop' },
        { id: '7', name: 'Saia Midi Plissada', price: 199.90, originalPrice: 259.90, category: 'cal칞as', colors: ['#1a1a1a', '#800020', '#2f4f4f'], sizes: ['PP', 'P', 'M', 'G', 'GG'], tag: 'sale', image: 'https://images.unsplash.com/photo-1583496661160-fb5886a0aaaa?w=600&h=800&fit=crop' },
        { id: '8', name: 'Colar Corrente Dourada', price: 89.90, originalPrice: null, category: 'acess칩rios', colors: ['#ffd700', '#c0c0c0'], sizes: ['칔nico'], tag: null, image: 'https://images.unsplash.com/photo-1599643478518-a784e5dc4c8f?w=600&h=800&fit=crop' },
        { id: '9', name: 'Vestido Tricot Canelado', price: 299.90, originalPrice: null, category: 'vestidos', colors: ['#f5f5dc', '#1a1a1a', '#8b4513'], sizes: ['PP', 'P', 'M', 'G'], tag: 'bestseller', image: 'https://images.unsplash.com/photo-1612423284934-2850a4ea6b0f?w=600&h=800&fit=crop' },
        { id: '10', name: 'Top Al칞a Fina Seda', price: 129.90, originalPrice: 169.90, category: 'blusas', colors: ['#1a1a1a', '#f5f5dc', '#dc143c'], sizes: ['PP', 'P', 'M', 'G'], tag: 'sale', image: 'https://images.unsplash.com/photo-1560769680-ba4c4f9b07c6?w=600&h=800&fit=crop' },
        { id: '11', name: 'Cal칞a Skinny Couro Eco', price: 349.90, originalPrice: null, category: 'cal칞as', colors: ['#1a1a1a', '#8b4513'], sizes: ['34', '36', '38', '40', '42'], tag: 'new', image: 'https://images.unsplash.com/photo-1541099649105-f69ad21f3246?w=600&h=800&fit=crop' },
        { id: '12', name: 'Len칞o Seda Estampado', price: 149.90, originalPrice: null, category: 'acess칩rios', colors: ['#ffd700', '#4169e1', '#dc143c'], sizes: ['칔nico'], tag: null, image: 'https://images.unsplash.com/photo-1601924994987-69e26d50dc26?w=600&h=800&fit=crop' },
        { id: '13', name: 'Vestido Blazer Elegante', price: 429.90, originalPrice: 549.90, category: 'vestidos', colors: ['#1a1a1a', '#800020', '#2f4f4f'], sizes: ['PP', 'P', 'M', 'G', 'GG'], tag: 'sale', image: 'https://images.unsplash.com/photo-1566174053879-31528523f8ae?w=600&h=800&fit=crop' },
        { id: '14', name: 'Regata B치sica Premium', price: 79.90, originalPrice: null, category: 'blusas', colors: ['#f5f5dc', '#1a1a1a', '#2f4f4f'], sizes: ['PP', 'P', 'M', 'G', 'GG'], tag: null, image: 'https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?w=600&h=800&fit=crop' },
        { id: '15', name: 'Short Alfaiataria', price: 189.90, originalPrice: null, category: 'cal칞as', colors: ['#1a1a1a', '#f5f5dc', '#deb887'], sizes: ['34', '36', '38', '40', '42'], tag: 'new', image: 'https://images.unsplash.com/photo-1591195853828-11db59a44f6b?w=600&h=800&fit=crop' },
        { id: '16', name: 'Brinco Argola Maxi', price: 69.90, originalPrice: 99.90, category: 'acess칩rios', colors: ['#ffd700', '#c0c0c0'], sizes: ['칔nico'], tag: 'sale', image: 'https://images.unsplash.com/photo-1535632066927-ab7c9ab60908?w=600&h=800&fit=crop' },
        { id: '17', name: 'Vestido Slip Dress Cetim', price: 319.90, originalPrice: null, category: 'vestidos', colors: ['#1a1a1a', '#800020', '#ffc0cb'], sizes: ['PP', 'P', 'M', 'G'], tag: 'bestseller', image: 'https://images.unsplash.com/photo-1611312449408-fcece27cdbb7?w=600&h=800&fit=crop' },
        { id: '18', name: 'Cardigan Tricot Longo', price: 269.90, originalPrice: null, category: 'blusas', colors: ['#f5f5dc', '#8b4513', '#2f4f4f'], sizes: ['PP', 'P', 'M', 'G', 'GG'], tag: null, image: 'https://images.unsplash.com/photo-1591047139829-d91aecb6caea?w=600&h=800&fit=crop' },
        { id: '19', name: 'Cal칞a Jogger Moletom', price: 159.90, originalPrice: 199.90, category: 'cal칞as', colors: ['#808080', '#1a1a1a', '#f5f5dc'], sizes: ['PP', 'P', 'M', 'G', 'GG'], tag: 'sale', image: 'https://images.unsplash.com/photo-1624378439575-d8705ad7ae80?w=600&h=800&fit=crop' },
        { id: '20', name: '칍culos de Sol Cat Eye', price: 199.90, originalPrice: null, category: 'acess칩rios', colors: ['#1a1a1a', '#8b4513', '#f5f5dc'], sizes: ['칔nico'], tag: 'new', image: 'https://images.unsplash.com/photo-1511499767150-a48a237f0083?w=600&h=800&fit=crop' },
        { id: '21', name: 'Macac칚o Pantalona', price: 399.90, originalPrice: null, category: 'vestidos', colors: ['#1a1a1a', '#800020', '#2e8b57'], sizes: ['PP', 'P', 'M', 'G'], tag: null, image: 'https://images.unsplash.com/photo-1585487000160-6ebcfceb0d03?w=600&h=800&fit=crop' },
        { id: '22', name: 'Blazer Estruturado', price: 379.90, originalPrice: 479.90, category: 'blusas', colors: ['#1a1a1a', '#f5f5dc', '#800020'], sizes: ['PP', 'P', 'M', 'G', 'GG'], tag: 'sale', image: 'https://images.unsplash.com/photo-1591369822096-ffd140ec948f?w=600&h=800&fit=crop' },
        { id: '23', name: 'Saia Midi Couro Eco', price: 289.90, originalPrice: null, category: 'cal칞as', colors: ['#1a1a1a', '#8b4513'], sizes: ['PP', 'P', 'M', 'G'], tag: 'new', image: 'https://images.unsplash.com/photo-1583496661160-fb5886a0aaaa?w=600&h=800&fit=crop' },
        { id: '24', name: 'Cinto Couro Fivela', price: 129.90, originalPrice: null, category: 'acess칩rios', colors: ['#1a1a1a', '#8b4513', '#daa520'], sizes: ['P', 'M', 'G'], tag: null, image: 'https://images.unsplash.com/photo-1553704571-c77db8f32c4d?w=600&h=800&fit=crop' }
    ];

    // State
    let cartItems = [];
    let wishlistItems = [];
    let currentCategory = 'all';
    let displayedProducts = 12;

    // Config
    const defaultConfig = {
        store_name: 'FASHION STORE',
        hero_title: 'Primavera\nVer칚o 2025',
        hero_subtitle: 'Descubra as 칰ltimas tend칡ncias com pe칞as exclusivas que combinam eleg칙ncia atemporal e estilo contempor칙neo.',
        background_color: '#fafaf9',
        surface_color: '#ffffff',
        text_color: '#1c1917',
        primary_action_color: '#1c1917',
        accent_color: '#e11d48',
        font_family: 'Montserrat',
        font_size: 16
    };

    let config = { ...defaultConfig };

    // Initialize
    async function initApp() {
        // Initialize Element SDK
        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange: async (newConfig) => {
                    config = { ...defaultConfig, ...newConfig };
                    applyConfig();
                },
                mapToCapabilities: (cfg) => ({
                    recolorables: [
                        {
                            get: () => cfg.background_color || defaultConfig.background_color,
                            set: (v) => { cfg.background_color = v; window.elementSdk.setConfig({ background_color: v }); }
                        },
                        {
                            get: () => cfg.surface_color || defaultConfig.surface_color,
                            set: (v) => { cfg.surface_color = v; window.elementSdk.setConfig({ surface_color: v }); }
                        },
                        {
                            get: () => cfg.text_color || defaultConfig.text_color,
                            set: (v) => { cfg.text_color = v; window.elementSdk.setConfig({ text_color: v }); }
                        },
                        {
                            get: () => cfg.primary_action_color || defaultConfig.primary_action_color,
                            set: (v) => { cfg.primary_action_color = v; window.elementSdk.setConfig({ primary_action_color: v }); }
                        },
                        {
                            get: () => cfg.accent_color || defaultConfig.accent_color,
                            set: (v) => { cfg.accent_color = v; window.elementSdk.setConfig({ accent_color: v }); }
                        }
                    ],
                    borderables: [],
                    fontEditable: {
                        get: () => cfg.font_family || defaultConfig.font_family,
                        set: (v) => { cfg.font_family = v; window.elementSdk.setConfig({ font_family: v }); }
                    },
                    fontSizeable: {
                        get: () => cfg.font_size || defaultConfig.font_size,
                        set: (v) => { cfg.font_size = v; window.elementSdk.setConfig({ font_size: v }); }
                    }
                }),
                mapToEditPanelValues: (cfg) => new Map([
                    ['store_name', cfg.store_name || defaultConfig.store_name],
                    ['hero_title', cfg.hero_title || defaultConfig.hero_title],
                    ['hero_subtitle', cfg.hero_subtitle || defaultConfig.hero_subtitle]
                ])
            });
        }

        // Initialize Data SDK
        if (window.dataSdk) {
            const result = await window.dataSdk.init({
                onDataChanged: (data) => {
                    cartItems = data;
                    updateCartUI();
                }
            });
            if (!result.isOk) {
                console.error('Failed to initialize data SDK');
            }
        }

        renderProducts();
        applyConfig();
    }

    function applyConfig() {
        const storeName = document.getElementById('store-name');
        const heroTitle = document.getElementById('hero-title');
        const heroSubtitle = document.getElementById('hero-subtitle');
        const body = document.body;
        const app = document.getElementById('app');

        if (storeName) storeName.textContent = config.store_name || defaultConfig.store_name;
        if (heroTitle) heroTitle.innerHTML = (config.hero_title || defaultConfig.hero_title).replace('\n', '<br>');
        if (heroSubtitle) heroSubtitle.textContent = config.hero_subtitle || defaultConfig.hero_subtitle;

        // Apply colors
        const bgColor = config.background_color || defaultConfig.background_color;
        const textColor = config.text_color || defaultConfig.text_color;
        const accentColor = config.accent_color || defaultConfig.accent_color;

        app.style.backgroundColor = bgColor;
        body.style.color = textColor;

        // Apply font
        const fontFamily = config.font_family || defaultConfig.font_family;
        const baseSize = config.font_size || defaultConfig.font_size;
        body.style.fontFamily = `${fontFamily}, Montserrat, sans-serif`;
        body.style.fontSize = `${baseSize}px`;

        // Update accent colors
        document.querySelectorAll('.text-rose-600').forEach(el => el.style.color = accentColor);
        document.querySelectorAll('.bg-rose-600').forEach(el => el.style.backgroundColor = accentColor);
    }

    function renderProducts() {
        const grid = document.getElementById('products-grid');
        let filtered = products;

        if (currentCategory !== 'all') {
            if (currentCategory === 'sale') {
                filtered = products.filter(p => p.tag === 'sale');
            } else {
                filtered = products.filter(p => p.category === currentCategory);
            }
        }

        const toShow = filtered.slice(0, displayedProducts);

        grid.innerHTML = toShow.map((product, index) => `
        <div class="product-card group cursor-pointer animate-fade-in" style="animation-delay: ${index * 0.05}s" onclick="openQuickView('${product.id}')">
          <div class="relative aspect-[3/4] bg-stone-100 rounded-xl overflow-hidden mb-3">
            <div class="product-image transition-transform duration-500 w-full h-full">
              <img src="${product.image}" alt="${product.name}" loading="lazy" onerror="this.src=''; this.alt='Imagem indispon칤vel'; this.style.display='none';" class="w-full h-full object-cover">
            </div>
            ${product.tag ? `
              <span class="absolute top-3 left-3 px-2 py-1 text-[10px] uppercase tracking-wider font-medium rounded ${
            product.tag === 'sale' ? 'bg-rose-600 text-white' :
                product.tag === 'new' ? 'bg-stone-900 text-white' :
                    'bg-amber-400 text-stone-900'
        }">
                ${product.tag === 'sale' ? 'Sale' : product.tag === 'new' ? 'Novo' : 'Top'}
              </span>
            ` : ''}
            <button onclick="event.stopPropagation(); toggleWishlistItem('${product.id}')" class="absolute top-3 right-3 p-2 bg-white/90 rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-white">
              <svg class="w-4 h-4 ${wishlistItems.includes(product.id) ? 'fill-rose-600 text-rose-600' : ''}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
              </svg>
            </button>
            <button onclick="event.stopPropagation(); quickAddToCart('${product.id}')" class="quick-add absolute bottom-3 left-3 right-3 py-2.5 bg-white/95 text-stone-900 text-xs tracking-wide font-medium rounded-lg opacity-0 translate-y-2 transition-all hover:bg-stone-900 hover:text-white">
              ADICIONAR R츼PIDO
            </button>
          </div>
          <div class="px-1">
            <h4 class="text-sm font-medium mb-1 truncate">${product.name}</h4>
            <div class="flex items-center gap-2">
              <span class="font-medium">R$ ${product.price.toFixed(2).replace('.', ',')}</span>
              ${product.originalPrice ? `<span class="text-sm text-stone-400 line-through">R$ ${product.originalPrice.toFixed(2).replace('.', ',')}</span>` : ''}
            </div>
            <div class="flex items-center gap-1 mt-2">
              ${product.colors.slice(0, 4).map(c => `<span class="w-3 h-3 rounded-full border border-stone-200" style="background: ${c}"></span>`).join('')}
              ${product.colors.length > 4 ? `<span class="text-xs text-stone-400">+${product.colors.length - 4}</span>` : ''}
            </div>
          </div>
        </div>
      `).join('');

        document.getElementById('product-count').textContent = `${filtered.length} produtos`;

        // Update section title
        const titles = {
            'all': 'Todos os Produtos',
            'vestidos': 'Vestidos',
            'blusas': 'Blusas & Tops',
            'cal칞as': 'Cal칞as & Saias',
            'acess칩rios': 'Acess칩rios',
            'sale': '游댠 Promo칞칫es'
        };
        document.getElementById('section-title').textContent = titles[currentCategory] || 'Produtos';
    }

    function filterCategory(category) {
        currentCategory = category;
        displayedProducts = 12;

        // Update active category button
        document.querySelectorAll('.category-btn').forEach(btn => {
            btn.classList.remove('font-semibold', 'text-stone-900');
            if (btn.dataset.category === category) {
                btn.classList.add('font-semibold', 'text-stone-900');
            }
        });

        renderProducts();

        // Scroll to products
        document.getElementById('products-grid').scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    function loadMoreProducts() {
        displayedProducts += 12;
        renderProducts();
    }

    function sortProducts(value) {
        const sortFunctions = {
            'newest': (a, b) => parseInt(b.id) - parseInt(a.id),
            'price-low': (a, b) => a.price - b.price,
            'price-high': (a, b) => b.price - a.price,
            'popular': (a, b) => (b.tag === 'bestseller' ? 1 : 0) - (a.tag === 'bestseller' ? 1 : 0)
        };
        products.sort(sortFunctions[value]);
        renderProducts();
    }

    function searchProducts(query) {
        if (!query.trim()) {
            renderProducts();
            return;
        }
        const filtered = products.filter(p =>
            p.name.toLowerCase().includes(query.toLowerCase()) ||
            p.category.toLowerCase().includes(query.toLowerCase())
        );
        const grid = document.getElementById('products-grid');
        grid.innerHTML = filtered.map((product, index) => `
        <div class="product-card group cursor-pointer animate-fade-in" style="animation-delay: ${index * 0.05}s" onclick="openQuickView('${product.id}')">
          <div class="relative aspect-[3/4] bg-stone-100 rounded-xl overflow-hidden mb-3">
            <div class="product-image transition-transform duration-500 w-full h-full">
              <img src="${product.image}" alt="${product.name}" loading="lazy" onerror="this.src=''; this.alt='Imagem indispon칤vel'; this.style.display='none';" class="w-full h-full object-cover">
            </div>
          </div>
          <h4 class="text-sm font-medium mb-1">${product.name}</h4>
          <span class="font-medium">R$ ${product.price.toFixed(2).replace('.', ',')}</span>
        </div>
      `).join('');
        document.getElementById('product-count').textContent = `${filtered.length} produtos encontrados`;
    }

    function openQuickView(productId) {
        const product = products.find(p => p.id === productId);
        if (!product) return;

        const modal = document.getElementById('quick-view-modal');
        const content = document.getElementById('quick-view-content');

        content.innerHTML = `
        <div class="aspect-[3/4] bg-stone-100 rounded-xl overflow-hidden">
          <img src="${product.image}" alt="${product.name}" loading="lazy" onerror="this.src=''; this.alt='Imagem indispon칤vel'; this.style.display='none';" class="w-full h-full object-cover">
        </div>
        <div class="flex flex-col justify-center py-4">
          <div class="mb-4">
            ${product.tag ? `<span class="inline-block px-2 py-1 text-[10px] uppercase tracking-wider font-medium rounded ${product.tag === 'sale' ? 'bg-rose-100 text-rose-600' : 'bg-stone-100 text-stone-600'} mb-2">${product.tag === 'sale' ? 'Promo칞칚o' : product.tag === 'new' ? 'Novidade' : 'Mais Vendido'}</span>` : ''}
            <h3 class="font-display text-2xl mb-2">${product.name}</h3>
            <div class="flex items-center gap-3">
              <span class="text-2xl font-medium">R$ ${product.price.toFixed(2).replace('.', ',')}</span>
              ${product.originalPrice ? `<span class="text-lg text-stone-400 line-through">R$ ${product.originalPrice.toFixed(2).replace('.', ',')}</span>` : ''}
            </div>
            <p class="text-sm text-stone-500 mt-1">ou 10x de R$ ${(product.price / 10).toFixed(2).replace('.', ',')} sem juros</p>
          </div>
          
          <div class="mb-4">
            <p class="text-sm font-medium mb-2">Cor</p>
            <div class="flex gap-2">
              ${product.colors.map((c, i) => `<button class="w-8 h-8 rounded-full border-2 ${i === 0 ? 'border-stone-900' : 'border-stone-200'} hover:border-stone-900 transition-colors" style="background: ${c}" onclick="selectColor(this)"></button>`).join('')}
            </div>
          </div>
          
          <div class="mb-6">
            <div class="flex items-center justify-between mb-2">
              <p class="text-sm font-medium">Tamanho</p>
              <button class="text-xs text-stone-500 underline">Guia de tamanhos</button>
            </div>
            <div class="flex flex-wrap gap-2">
              ${product.sizes.map((s, i) => `<button class="size-btn px-4 py-2 border border-stone-200 rounded text-sm hover:border-stone-900 transition-colors ${i === 1 ? 'active' : ''}" onclick="selectSize(this)">${s}</button>`).join('')}
            </div>
          </div>
          
          <button onclick="addToCart('${product.id}')" class="w-full py-4 bg-stone-900 text-white text-sm tracking-wide hover:bg-stone-800 transition-colors flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
            </svg>
            ADICIONAR AO CARRINHO
          </button>
          
          <button onclick="toggleWishlistItem('${product.id}')" class="w-full py-3 mt-2 border border-stone-200 text-sm tracking-wide hover:border-stone-900 transition-colors flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
            </svg>
            ADICIONAR  LISTA DE DESEJOS
          </button>
        </div>
      `;

        modal.classList.remove('hidden');
        modal.classList.add('flex');
    }

    function closeQuickView() {
        const modal = document.getElementById('quick-view-modal');
        modal.classList.add('hidden');
        modal.classList.remove('flex');
    }

    function selectColor(btn) {
        btn.parentElement.querySelectorAll('button').forEach(b => b.classList.remove('border-stone-900'));
        btn.classList.add('border-stone-900');
    }

    function selectSize(btn) {
        btn.parentElement.querySelectorAll('button').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
    }

    async function addToCart(productId) {
        const product = products.find(p => p.id === productId);
        if (!product) return;

        if (cartItems.length >= 999) {
            showToast('Limite de itens atingido!');
            return;
        }

        const sizeBtn = document.querySelector('.size-btn.active');
        const size = sizeBtn ? sizeBtn.textContent : product.sizes[0];

        if (window.dataSdk) {
            const result = await window.dataSdk.create({
                product_id: productId,
                quantity: 1,
                size: size,
                color: product.colors[0],
                added_at: new Date().toISOString()
            });

            if (result.isOk) {
                showToast(`${product.name} adicionado ao carrinho!`);
                closeQuickView();
            } else {
                showToast('Erro ao adicionar ao carrinho');
            }
        } else {
            cartItems.push({ product_id: productId, quantity: 1, size, color: product.colors[0] });
            updateCartUI();
            showToast(`${product.name} adicionado ao carrinho!`);
            closeQuickView();
        }
    }

    async function quickAddToCart(productId) {
        const product = products.find(p => p.id === productId);
        if (!product) return;

        if (cartItems.length >= 999) {
            showToast('Limite de itens atingido!');
            return;
        }

        if (window.dataSdk) {
            const result = await window.dataSdk.create({
                product_id: productId,
                quantity: 1,
                size: product.sizes[1] || product.sizes[0],
                color: product.colors[0],
                added_at: new Date().toISOString()
            });

            if (result.isOk) {
                showToast(`${product.name} adicionado!`);
            }
        } else {
            cartItems.push({ product_id: productId, quantity: 1, size: product.sizes[1] || product.sizes[0], color: product.colors[0] });
            updateCartUI();
            showToast(`${product.name} adicionado!`);
        }
    }

    async function removeFromCart(item) {
        if (window.dataSdk && item.__backendId) {
            const result = await window.dataSdk.delete(item);
            if (!result.isOk) {
                showToast('Erro ao remover item');
            }
        } else {
            const index = cartItems.findIndex(i => i.product_id === item.product_id);
            if (index > -1) {
                cartItems.splice(index, 1);
                updateCartUI();
            }
        }
    }

    async function updateQuantity(item, delta) {
        const newQty = item.quantity + delta;
        if (newQty < 1) {
            removeFromCart(item);
            return;
        }

        if (window.dataSdk && item.__backendId) {
            const result = await window.dataSdk.update({ ...item, quantity: newQty });
            if (!result.isOk) {
                showToast('Erro ao atualizar quantidade');
            }
        } else {
            item.quantity = newQty;
            updateCartUI();
        }
    }

    function updateCartUI() {
        const cartCount = document.getElementById('cart-count');
        const cartItemsEl = document.getElementById('cart-items');
        const cartSubtotal = document.getElementById('cart-subtotal');

        const totalItems = cartItems.reduce((sum, item) => sum + item.quantity, 0);
        cartCount.textContent = totalItems;

        if (cartItems.length === 0) {
            cartItemsEl.innerHTML = `
          <div class="text-center py-12">
            <svg class="w-16 h-16 mx-auto mb-4 text-stone-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
            </svg>
            <p class="text-stone-500">Seu carrinho est치 vazio</p>
            <button onclick="toggleCart(); filterCategory('all');" class="mt-4 text-sm underline">Continuar comprando</button>
          </div>
        `;
        } else {
            cartItemsEl.innerHTML = cartItems.map(item => {
                const product = products.find(p => p.id === item.product_id);
                if (!product) return '';
                return `
            <div class="flex gap-4 pb-4 mb-4 border-b border-stone-100">
              <div class="w-20 h-24 bg-stone-100 rounded-lg overflow-hidden flex-shrink-0">
                <img src="${product.image}" alt="${product.name}" loading="lazy" onerror="this.src=''; this.alt='Imagem indispon칤vel'; this.style.display='none';" class="w-full h-full object-cover">
              </div>
              <div class="flex-1 min-w-0">
                <h4 class="text-sm font-medium truncate">${product.name}</h4>
                <p class="text-xs text-stone-500 mt-1">Tam: ${item.size} | Cor: <span class="inline-block w-3 h-3 rounded-full align-middle" style="background: ${item.color}"></span></p>
                <div class="flex items-center justify-between mt-2">
                  <div class="flex items-center border border-stone-200 rounded">
                    <button onclick="updateQuantity(cartItems[${cartItems.indexOf(item)}], -1)" class="px-2 py-1 hover:bg-stone-100">-</button>
                    <span class="px-3 py-1 text-sm">${item.quantity}</span>
                    <button onclick="updateQuantity(cartItems[${cartItems.indexOf(item)}], 1)" class="px-2 py-1 hover:bg-stone-100">+</button>
                  </div>
                  <span class="font-medium">R$ ${(product.price * item.quantity).toFixed(2).replace('.', ',')}</span>
                </div>
              </div>
              <button onclick="removeFromCart(cartItems[${cartItems.indexOf(item)}])" class="text-stone-400 hover:text-stone-900 p-1">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12"/>
                </svg>
              </button>
            </div>
          `;
            }).join('');
        }

        const subtotal = cartItems.reduce((sum, item) => {
            const product = products.find(p => p.id === item.product_id);
            return sum + (product ? product.price * item.quantity : 0);
        }, 0);
        cartSubtotal.textContent = `R$ ${subtotal.toFixed(2).replace('.', ',')}`;
    }

    function toggleCart() {
        const sidebar = document.getElementById('cart-sidebar');
        sidebar.classList.toggle('hidden');
    }

    function toggleWishlistItem(productId) {
        const index = wishlistItems.indexOf(productId);
        if (index > -1) {
            wishlistItems.splice(index, 1);
            showToast('Removido da lista de desejos');
        } else {
            wishlistItems.push(productId);
            showToast('Adicionado  lista de desejos');
        }

        const wishlistCount = document.getElementById('wishlist-count');
        if (wishlistItems.length > 0) {
            wishlistCount.textContent = wishlistItems.length;
            wishlistCount.classList.remove('hidden');
            wishlistCount.classList.add('flex');
        } else {
            wishlistCount.classList.add('hidden');
            wishlistCount.classList.remove('flex');
        }

        renderProducts();
    }

    function toggleWishlist() {
        showToast('Lista de desejos: ' + wishlistItems.length + ' itens');
    }

    function toggleSearch() {
        const searchBar = document.getElementById('search-bar');
        searchBar.classList.toggle('hidden');
        if (!searchBar.classList.contains('hidden')) {
            document.getElementById('search-input').focus();
        }
    }

    function closeMobileMenu() {
        document.getElementById('mobile-menu').classList.add('hidden');
    }

    document.getElementById('mobile-menu-btn').addEventListener('click', () => {
        document.getElementById('mobile-menu').classList.remove('hidden');
    });

    function checkout() {
        showToast('Demo: Redirecionando para checkout...');
    }

    function showToast(message) {
        const toast = document.getElementById('toast');
        const toastMessage = document.getElementById('toast-message');
        toastMessage.textContent = message;
        toast.classList.remove('hidden');
        setTimeout(() => toast.classList.add('hidden'), 3000);
    }

    // Initialize app
    initApp();
</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c0ee05513944f82',t:'MTc2ODkxNTMwMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>